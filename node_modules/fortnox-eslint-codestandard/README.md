# Fortnox Javascript Lintrules

In order to maintain consistency and avoid common pitfalls in Javascript we use the famous "eslint" javascript linter. All editors/IDEs that we use support eslint.

Jobs in jenkins should be configured in a way that marks any build red if there are eslint errors/warnings.

This way we avoid a whole set of code smells and bad practices.
In addition to eslint we have a code standard where we agree on a common set of patterns. You can find examples of this here: http://frontend-documentation.fnox.se/#/codestandard

Your own respository should contain an .eslintrc file which simply extends fortnox-eslint. We use airbnb as a base to stand on, they have a solid configuration of rules.


You need to have fortnox-eslint added as a dependency in your package.json . This is an exception where we actually do want to point to master ie, always use the latest version instead of locking it down to a specific version. Otherwise you would not automatically get updates and changes to our eslint rules applied without manually switching the version, which is undesired.
<br />
<br />
`"fortnox-eslint-codestandard": "git+ssh://git@stash.fortnox.local:7999/fnx/fortnox-eslint.git#master",
`

Your own .eslintrc file should simply extend the fortnox eslint standard, using the following:
<br />
<br />
`{
  "extends":"./node_modules/fortnox-eslint-codestandard/.eslintrc"
  }
`

To make it easier to maintain there is a upgrade-to-latest script for eslint/airbnb packages. In order to keep this up-to-date automatically its recommended you add a postinstall script that will install the latest compatible airbnb configs together with required dependencies every time you run npm install.
<br />

`"postinstall": "sh ./node_modules/fortnox-eslint-codestandard/upgrade-latest.sh"`
<br />
<br />

#### Windows Users
This same exact approach seems to be working on windows as long as you use git bash and create an environmental
variable for the git-bin ie (C:\Program Files\Git\bin)
<br />
<br />

#### Configure your editor / fixing lint errors
You should configure your editor to automatically correct eslint errors on save or by using a hotkey. In <strong>Atom</strong> this can be done by going to the settings of the "linter-eslint" package and checking the <strong>"Fix errors on save"</strong>-checkbox.

In <strong>IntelliJ / PHPStorm</strong> you can hit Alt+Enter on the highlighten error and select <strong>Fix current file with ESLint</strong> more information here: https://blog.jetbrains.com/webstorm/2016/09/webstorm-2016-3-eap-163-3983/

<strong> We use tabs, not spaces.</strong>
