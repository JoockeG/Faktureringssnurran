import React from 'react';
import { t as gettext } from 'c-3po';
import TextBox from './TextBox';
import isValidEmail from '../validations/Email';

/**
 * The React FormFieldEmail component.
 *
 *
 * @class
 * @name FormFieldEmail
 *
 * @return {FormFieldEmail} An instance of the FormFieldEmail component.
 */
class FieldEmail extends React.Component {

	/**
	 * @private
	 * @memberOf FormFieldEmail
	 *
	 * @description
	 *
	 * Check if the value is an email, returns an error message otherwise.
	 *
	 * @param {String} value
	 *
	 * @return {String|Boolean}
	 */
	validate(value) {
		return isValidEmail(value)
			? true
			: gettext`${value} Ã¤r inte en giltig e-postadress.`;
	}

	render() {
		return (
			<TextBox
				{...this.props}
				validate={this.validate.bind(this)}
			/>
		);
	}


}


export default FieldEmail;
