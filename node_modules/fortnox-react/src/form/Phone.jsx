import React from 'react';
import { t as gettext } from 'c-3po';
import TextBox from './TextBox';
import isValidPhoneNumber from '../validations/PhoneNumber';

/**
 * The React FormFieldPhone component.
 *
 *
 * @class
 * @name FormFieldPhone
 *
 * @return {FormFieldPhone} An instance of the FormFieldPhone component.
 */
class FieldPhone extends React.Component {

	/**
	 * @private
	 * @memberOf FormFieldPhone
	 *
	 * @description
	 *
	 * Check if the value is a phone number, only allow specific characters that
	 * make up a phone number.
	 *
	 * @param {String} value - input value
	 *
	 * @return {String|Boolean}
	 */
	validate(value) {
		return isValidPhoneNumber(value)
			? true
			: gettext`Fältet innehåller ej tillåtna tecken. Följande tecken är tillåtna: 0-9 +-() och mellanslag.`;
	}

	render() {
		return (
			<TextBox
				{...this.props}
				validate={this.validate.bind(this)}
			/>
		);
	}

}


export default FieldPhone;
