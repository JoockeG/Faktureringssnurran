// Migrate to a better IBAN validation, we did not initially write this
// but there seem to be a better one available at: https://github.com/arhs/iban.js/blob/master/iban.js
// For now we have to override our jshint to run with this older version.

import React from 'react';
import { t as gettext } from 'c-3po';
import TextBox from './TextBox';
import isValidIBAN from '../validations/IBAN';


/**
 * The React FormFieldIBAN component.
 *
 *
 * @class
 * @name FormFieldIBAN
 *
 * @return {FormFieldIBAN} An instance of the FormFieldIBAN component.
 */
class FieldIBAN extends React.Component {

	/**
	 * @private
	 * @memberOf FormFieldIBAN
	 *
	 * @description
	 *
	 * Validate value is a valid IBAN number
	 *
	 * @param {String} value - input value
	 *
	 * @return {Boolean}
	 */
	validate(value) {
		return isValidIBAN(value) ? true : value + gettext` Ã¤r inte ett giltigt IBAN.`;
	}

	render() {
		return (
			<TextBox
				{...this.props}
				validate={this.validate.bind(this)}
			/>
		);
	}
}

export default FieldIBAN;
