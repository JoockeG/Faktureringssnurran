import Backbone from './BackboneAdapter';
import stubs from './StubbedEndpoints';

const defaultAjax = Backbone.ajax;

Backbone.ajax = (params) => {
	const stubEndpoint = stubs.filter(stub => stub.endpoint === params.url);

	if (stubEndpoint.length === 0) {
		return defaultAjax(params);
	}
	return new Promise((resolve) => {
		params.success(stubEndpoint[0].response);
		resolve(stubEndpoint[0].response);
	});
};


export default {};
