import React from 'react';
import PropTypes from 'prop-types';

class MeasureWidth extends React.Component {

	componentDidMount() {
		this.props.onWidth(this.el.offsetWidth);
	}

	render() {
		return (
			<div
				className={this.props.className}
				ref={(el) => { this.el = el; }}
			>{this.props.children}</div>
		);
	}
}

MeasureWidth.defaultProps = {
	className: 'measure-width'
};

MeasureWidth.propTypes = {
	onWidth: PropTypes.func.isRequired,
	children: PropTypes.node.isRequired,
	className: PropTypes.string
};

export default MeasureWidth;
