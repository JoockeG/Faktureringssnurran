import React from 'react';
import ReactDOM from 'react-dom';
import TestUtils from 'react-dom/test-utils';
import Dialog from 'utils/Dialog';



describe('Dialog', () => {

  it('Render a dialog', done => {
    const component = TestUtils.renderIntoDocument(
      <Dialog title="Test">
         <div className="a">Content A</div>
        <div className="b">Content B</div>
       </Dialog>
    );
    TestUtils.scryRenderedDOMComponentsWithClass(component, 'a').length.should.equal(1);
    TestUtils.scryRenderedDOMComponentsWithClass(component, 'b').length.should.equal(1);
    ReactDOM.findDOMNode(component).textContent.should.equal('TestContent AContent B');
    done();
  });

  it('is open by default', done => {
    const component = TestUtils.renderIntoDocument(
      <Dialog title="Test"></Dialog>
    );
    ReactDOM.findDOMNode(component).style.display.should.equal('block');
    done();
  });

  it('closes by changing state', done => {
    const component = TestUtils.renderIntoDocument(
      <Dialog title="Test" isOpen={false}></Dialog>
    );
    ReactDOM.findDOMNode(component).style.display.should.equal('none');
    done();
  });

});
