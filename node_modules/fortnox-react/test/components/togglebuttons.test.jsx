import React from 'react';
import TestUtils from 'react-dom/test-utils';
import Backbone from 'utils/BackboneAdapter';
import 'utils/AjaxStub';
import should from 'should';
import ToggleGroup from 'form/ToggleGroup';
import Toggle from 'form/Toggle';

describe('ToggleGroup and Toggles', () => {

	it('Should validate Plusgiro correctly', done => {
		const p = new Backbone.Model();
		const component = TestUtils.renderIntoDocument(
			<ToggleGroup model={p} modelProp="foo">
   			<Toggle value="1" tooltip="Hej">A</Toggle>
   			<Toggle value="2">B</Toggle>
   		</ToggleGroup>
		);

		const toggles = TestUtils.scryRenderedDOMComponentsWithClass(component, 'toggle');
		const tips = TestUtils.scryRenderedDOMComponentsWithClass(component, 'hint');

		toggles.length.should.equal(2);
		tips.length.should.equal(1);
		should.not.exist(p.get('foo'));

		TestUtils.Simulate.click(toggles[1]);

		p.get('foo').should.equal('2');


		done();
	});

});
